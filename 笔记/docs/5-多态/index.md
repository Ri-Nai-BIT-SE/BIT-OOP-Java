# å¤šæ€

## å¤šæ€çš„å®šä¹‰

å¤šæ€æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒå…è®¸ä¸€ä¸ªç±»åœ¨è¿è¡Œæ—¶è¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºã€‚å¤šæ€é€šè¿‡ç»§æ‰¿å’Œæ¥å£å®ç°ã€‚

ä¸‰è¦ç´ ï¼šç»§æ‰¿ã€å‘ä¸Šè½¬å‹ã€é‡å†™

:::details é™æ€ç»‘å®šå’ŒåŠ¨æ€ç»‘å®š
## é™æ€ç»‘å®šå’ŒåŠ¨æ€ç»‘å®š

åœ¨ Java ä¸­ï¼Œ**é™æ€ç»‘å®šï¼ˆStatic Bindingï¼‰å’ŒåŠ¨æ€ç»‘å®šï¼ˆDynamic Bindingï¼‰** æ˜¯ç†è§£ **å¤šæ€ï¼ˆPolymorphismï¼‰** å’Œ **æ–¹æ³•è°ƒç”¨æœºåˆ¶** çš„å…³é”®æ¦‚å¿µã€‚å®ƒä»¬å†³å®šäº† Java åœ¨è¿è¡Œæ—¶å¦‚ä½•é€‰æ‹©è°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚

### ğŸ§  ä¸€ã€ä»€ä¹ˆæ˜¯ç»‘å®šï¼ˆBindingï¼‰ï¼Ÿ

åœ¨ Java ä¸­ï¼Œ**ç»‘å®šæ˜¯æŒ‡å°†ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ä¸ä¸€ä¸ªæ–¹æ³•ä½“å…³è”èµ·æ¥çš„è¿‡ç¨‹**ã€‚

æ ¹æ®ç»‘å®šçš„æ—¶æœºä¸åŒï¼Œåˆ†ä¸ºï¼š

| ç±»å‹         | åˆç§°             | ç»‘å®šæ—¶æœº            | ç¤ºä¾‹åœºæ™¯                  |
|--------------|------------------|---------------------|---------------------------|
| é™æ€ç»‘å®š     | æ—©æœŸç»‘å®šï¼ˆEarly Bindingï¼‰ | ç¼–è¯‘æœŸï¼ˆCompile Timeï¼‰ | `private`ã€`static`ã€`final` æ–¹æ³•ã€æ„é€ å™¨ç­‰ |
| åŠ¨æ€ç»‘å®š     | æ™šæœŸç»‘å®šï¼ˆLate Bindingï¼‰  | è¿è¡ŒæœŸï¼ˆRun Timeï¼‰      | è™šæ–¹æ³•ï¼ˆå¦‚é private/static/final çš„æ™®é€šæ–¹æ³•ï¼‰ |


### ğŸ” äºŒã€é™æ€ç»‘å®šï¼ˆStatic Bindingï¼‰

#### âœ… å®šä¹‰ï¼š
é™æ€ç»‘å®šæ˜¯åœ¨**ç¼–è¯‘æœŸé—´**å°±ç¡®å®šè¦è°ƒç”¨å“ªä¸ªæ–¹æ³•çš„æœºåˆ¶ã€‚

#### âš™ï¸ åŸç†ï¼š
- æ ¹æ®**å˜é‡çš„å£°æ˜ç±»å‹**ï¼ˆä¸æ˜¯å®é™…å¯¹è±¡ç±»å‹ï¼‰æ¥å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚
- ä¸ä¾èµ–äºå¯¹è±¡çš„å®é™…ç±»å‹ã€‚

#### âœ… é€‚ç”¨æƒ…å†µï¼š
ä»¥ä¸‹å‡ ç§æ–¹æ³•ä½¿ç”¨é™æ€ç»‘å®šï¼š

| æ–¹æ³•ç±»å‹        | æ˜¯å¦é™æ€ç»‘å®š | è¯´æ˜ |
|-----------------|---------------|------|
| `private` æ–¹æ³•   | âœ…             | å­ç±»ä¸èƒ½é‡å†™ï¼Œåªèƒ½è‡ªå·±è°ƒç”¨ |
| `static` æ–¹æ³•    | âœ…             | å±äºç±»ï¼Œä¸æ˜¯å¯¹è±¡ |
| `final` æ–¹æ³•     | âœ…             | ä¸èƒ½è¢«é‡å†™ |
| æ„é€ å‡½æ•°         | âœ…             | ä¸èƒ½è¢«ç»§æ‰¿ï¼Œä¹Ÿä¸èƒ½è¢«é‡å†™ |

#### ğŸ§ª ç¤ºä¾‹ï¼š

```java
class Animal {
    static void speak() {
        System.out.println("Animal speaks");
    }
}

class Dog extends Animal {
    static void speak() {
        System.out.println("Dog barks");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal a = new Dog();
        a.speak(); // è¾“å‡º "Animal speaks"ï¼ˆé™æ€ç»‘å®šï¼‰
    }
}
```

> å³ä½¿ `a` å®é™…æŒ‡å‘çš„æ˜¯ `Dog` å¯¹è±¡ï¼Œä½†å› ä¸ºæ˜¯ `static` æ–¹æ³•ï¼Œæ‰€ä»¥è°ƒç”¨çš„æ˜¯ `Animal.speak()`ã€‚


### ğŸ” ä¸‰ã€åŠ¨æ€ç»‘å®šï¼ˆDynamic Bindingï¼‰

#### âœ… å®šä¹‰ï¼š
åŠ¨æ€ç»‘å®šæ˜¯åœ¨**è¿è¡Œæ—¶**æ‰ç¡®å®šè¦è°ƒç”¨å“ªä¸ªæ–¹æ³•çš„æœºåˆ¶ã€‚

#### âš™ï¸ åŸç†ï¼š
- æ ¹æ®**å¯¹è±¡çš„å®é™…ç±»å‹**ï¼ˆè€Œä¸æ˜¯å˜é‡çš„å£°æ˜ç±»å‹ï¼‰æ¥å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚
- è¿™æ˜¯å®ç° **å¤šæ€** çš„åŸºç¡€ã€‚

#### âœ… é€‚ç”¨æƒ…å†µï¼š
- æ™®é€šçš„æ–¹æ³•ï¼ˆæ²¡æœ‰è¢« `private`ã€`static`ã€`final` ä¿®é¥°ï¼‰

#### ğŸ§ª ç¤ºä¾‹ï¼š

```java
class Animal {
    void speak() {
        System.out.println("Animal speaks");
    }
}

class Dog extends Animal {
    @Override
    void speak() {
        System.out.println("Dog barks");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal a = new Dog();
        a.speak(); // è¾“å‡º "Dog barks"ï¼ˆåŠ¨æ€ç»‘å®šï¼‰
    }
}
```

> å°½ç®¡å˜é‡ `a` æ˜¯ `Animal` ç±»å‹ï¼Œä½†å®ƒå®é™…æŒ‡å‘çš„æ˜¯ `Dog` å¯¹è±¡ï¼Œå› æ­¤è°ƒç”¨äº† `Dog` çš„ `speak()` æ–¹æ³•ã€‚

### ğŸ“Œ å››ã€æ€»ç»“å¯¹æ¯”è¡¨

| ç‰¹å¾               | é™æ€ç»‘å®š                   | åŠ¨æ€ç»‘å®š                   |
|--------------------|----------------------------|----------------------------|
| åˆç§°               | æ—©æœŸç»‘å®šï¼ˆEarly Bindingï¼‰  | æ™šæœŸç»‘å®šï¼ˆLate Bindingï¼‰   |
| ç»‘å®šæ—¶é—´           | ç¼–è¯‘æœŸ                     | è¿è¡ŒæœŸ                     |
| å†³å®šä¾æ®           | å£°æ˜ç±»å‹                   | å®é™…å¯¹è±¡ç±»å‹               |
| æ”¯æŒå¤šæ€å—ï¼Ÿ       | âŒ ä¸æ”¯æŒ                   | âœ… æ”¯æŒ                    |
| å¸¸è§æ–¹æ³•ç±»å‹       | `private`, `static`, `final`, æ„é€ æ–¹æ³• | æ™®é€šè™šæ–¹æ³•ï¼ˆå¯é‡å†™ï¼‰     |
| æ€§èƒ½æ•ˆç‡           | æ›´å¿«ï¼ˆæ— éœ€è¿è¡Œæ—¶åˆ¤æ–­ï¼‰     | ç¨æ…¢ï¼ˆéœ€è¦è¿è¡Œæ—¶æŸ¥æ‰¾ï¼‰     |


### ğŸ§± äº”ã€è®¾è®¡å“²å­¦ï¼šä¸ºä»€ä¹ˆè¦æœ‰ä¸¤ç§ç»‘å®šï¼Ÿ

Java è®¾è®¡è€…ä¸ºäº†å¹³è¡¡æ€§èƒ½å’Œçµæ´»æ€§ï¼Œé‡‡ç”¨äº†è¿™ä¸¤ç§ç»‘å®šæœºåˆ¶ï¼š

- **é™æ€ç»‘å®š**ï¼šæé«˜æ€§èƒ½ï¼Œé€‚åˆä¸ä¼šå˜åŒ–çš„è¡Œä¸ºï¼ˆå¦‚å·¥å…·ç±»ã€ä¸å¯å˜ç±»ï¼‰ã€‚
- **åŠ¨æ€ç»‘å®š**ï¼šå®ç°å¤šæ€ï¼Œæä¾›æ›´å¼ºçš„æ‰©å±•æ€§å’Œçµæ´»æ€§ï¼Œæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒã€‚


### ğŸ“ å…­ã€ä¸€å¥è¯æ€»ç»“ï¼š

> **é™æ€ç»‘å®šåœ¨ç¼–è¯‘æ—¶æ ¹æ®å˜é‡ç±»å‹å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼›åŠ¨æ€ç»‘å®šåœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡å®é™…ç±»å‹å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚åŠ¨æ€ç»‘å®šæ˜¯ Java å¤šæ€çš„åŸºç¡€ï¼Œè€Œé™æ€ç»‘å®šç”¨äºæå‡æ€§èƒ½æˆ–é™åˆ¶è¡Œä¸ºã€‚**

:::










## å‘ä¸Šè½¬å‹ä¸å‘ä¸‹è½¬å‹

Javaç¼–è¯‘å™¨å…è®¸åœ¨å…·æœ‰ç›´æ¥æˆ–é—´æ¥ç»§æ‰¿å…³ç³»çš„ç±»ä¹‹é—´è¿›è¡Œç±»å‹è½¬æ¢ã€‚

- å­ç±»å¯¹è±¡->çˆ¶ç±»å¼•ç”¨(**å‘ä¸Šè½¬å‹**)
- çˆ¶ç±»å¼•ç”¨->å­ç±»å¼•ç”¨(**å‘ä¸‹è½¬å‹**)

### instanceof å…³é”®å­—

instanceof å…³é”®å­—ç”¨äºåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç±»æˆ–å…¶å­ç±»ã€‚

```java
if (obj instanceof ClassName) {
    // å¦‚æœ obj æ˜¯ ClassName ç±»å‹æˆ–å…¶å­ç±»ç±»å‹ï¼Œåˆ™æ‰§è¡Œæ­¤å¤„çš„ä»£ç 
}
```

### å‘ä¸Šè½¬å‹

å‘ä¸Šè½¬å‹æ˜¯å¤šæ€çš„ä¸€ç§è¡¨ç°å½¢å¼ï¼Œå®ƒå…è®¸ä¸€ä¸ªå­ç±»å¯¹è±¡è¢«å½“ä½œçˆ¶ç±»ç±»å‹æ¥ä½¿ç”¨ã€‚

```java
class Animal {
    void speak() {
        System.out.println("Animal speaks");
    }
}

class Dog extends Animal {
    @Override
    void speak() {
        System.out.println("Dog barks");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal a = new Dog(); // å‘ä¸Šè½¬å‹
        a.speak(); // è¾“å‡º "Dog barks"
    }
}
```





### å‘ä¸‹è½¬å‹

å‘ä¸‹è½¬å‹æ˜¯å°†çˆ¶ç±»å¼•ç”¨è½¬æ¢ä¸ºå­ç±»å¼•ç”¨ã€‚

åªèƒ½é€šè¿‡å¼ºåˆ¶ç±»å‹è½¬æ¢æ¥å®ç°å‘ä¸‹è½¬å‹ã€‚

éœ€è¦ä½¿ç”¨ instanceof å…³é”®å­—æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦å±äºæŸä¸ªå­ç±»ã€‚

```java
Animal a = new Dog(); // å‘ä¸Šè½¬å‹
if (a instanceof Dog) {
    Dog d = (Dog) a; // å‘ä¸‹è½¬å‹
    d.bark(); // è¾“å‡º "Dog barks"
}
```

## å¼€é—­åŸåˆ™

å¼€é—­åŸåˆ™OCPï¼ˆOpen-Closed Principleï¼‰

é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€ä¸ªæœ€**æ ¸å¿ƒ**çš„åŸåˆ™

å¯¹äº**æ‰©å±•**æ˜¯**å¼€æ”¾**çš„ï¼Œå¯¹äº**ä¿®æ”¹**æ˜¯**å…³é—­**çš„

åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹é¢†åŸŸä¸­ï¼Œå¼€é—­åŸåˆ™è§„å®šâ€œè½¯ä»¶ä¸­çš„å¯¹è±¡ï¼ˆç±»ï¼Œæ¨¡å—ï¼Œå‡½æ•°ç­‰ç­‰ï¼‰åº”è¯¥å¯¹äºæ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºä¿®æ”¹æ˜¯å°é—­çš„â€ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªå®ä½“æ˜¯å…è®¸åœ¨ä¸æ”¹å˜å®ƒçš„æºä»£ç çš„å‰æä¸‹å˜æ›´å®ƒçš„è¡Œä¸ºã€‚

å¦‚æœä¸€ä¸ªè½¯ä»¶è®¾è®¡ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œé‚£ä¹ˆå¯ä»¥éå¸¸**æ–¹ä¾¿**åœ°å¯¹ç³»ç»Ÿè¿›è¡Œæ‰©å±•ï¼Œè€Œä¸”åœ¨æ‰©å±•æ—¶æ— é¡»ä¿®æ”¹ç°æœ‰ä»£ç ï¼Œä½¿å¾—è½¯ä»¶ç³»ç»Ÿåœ¨æ‹¥æœ‰é€‚åº”æ€§å’Œçµæ´»æ€§çš„åŒæ—¶å…·å¤‡è¾ƒå¥½çš„ç¨³å®šæ€§å’Œå»¶ç»­æ€§ã€‚


## æŠ½è±¡ç±»

æŠ½è±¡ç±»æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œå®ƒä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«ç»§æ‰¿ã€‚

æŠ½è±¡ç±»ä¸­å¯ä»¥åŒ…å«**æŠ½è±¡æ–¹æ³•**å’Œ**éæŠ½è±¡æ–¹æ³•**ã€‚

æŠ½è±¡æ–¹æ³•æ˜¯ä¸€ç§æ²¡æœ‰å®ç°çš„æ–¹æ³•ï¼Œå¿…é¡»åœ¨å­ç±»ä¸­å®ç°ã€‚

æŠ½è±¡çˆ¶ç±»çš„**æ‰€æœ‰**å…·ä½“å­ç±»éƒ½**å¿…é¡»**ä¸ºçˆ¶ç±»çš„**æŠ½è±¡æ–¹æ³•**æä¾›å…·ä½“å®ç°ï¼›å¦åˆ™å…¶ä»ç„¶ä¸º**æŠ½è±¡ç±»**ã€‚

**é™æ€æ–¹æ³•**ã€**ç§æœ‰æ–¹æ³•**ã€**finalæ–¹æ³•**ã€**æ„é€ æ–¹æ³•**ä¸èƒ½è¢«å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ã€‚

### ç¤ºä¾‹

```java
abstract class Animal {
    protected String name;
    public Animal(String name) {
        this.name = name;
    }
    abstract void speak(); // æŠ½è±¡æ–¹æ³•
    public void getName() {
        System.out.println(name);
    }
}

class Dog extends Animal {
    public Dog(String name) {
        super(name);
    }
    @Override
    void speak() {
        System.out.println("Dog barks");
    }
}
```


### æ„ä¹‰

æŠ½è±¡ç±»çš„ä¸»è¦æ„ä¹‰åœ¨äºä¸ºå­ç±»æä¾›ä¸€ä¸ªå…¬å…±çš„ç±»å‹ï¼Œå¹¶å¼ºåˆ¶å­ç±»å®ç°æŸäº›æ–¹æ³•ã€‚

## æ¥å£

æ¥å£æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»ï¼Œå®ƒä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«å®ç°ã€‚

æ¥å£ä¸­å¯ä»¥åŒ…å«**æŠ½è±¡æ–¹æ³•**å’Œ**éæŠ½è±¡æ–¹æ³•**ã€‚

æ¥å£ä¸­çš„æ–¹æ³•é»˜è®¤éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œé»˜è®¤éƒ½æ˜¯publicï¼Œé»˜è®¤éƒ½æ˜¯public abstractã€‚

æ¥å£ä¸­çš„å˜é‡é»˜è®¤éƒ½æ˜¯public static finalã€‚


### ç¤ºä¾‹

```java
[public] interface æ¥å£å [extends çˆ¶æ¥å£ååˆ—è¡¨]{  
    [public] [final] [static] ç±»å‹  å¸¸é‡å=å¸¸é‡å€¼;
    [public] [abstract] è¿”å›ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨); 
}


public interface ChineseEmployee {
    String nationality="Chinese";     //public static final
    double pay();        //abstract
}

``` 

### æ¥å£çš„å®ç°

ç±»å¯¹æ¥å£äºˆä»¥å®ç°ã€‚

ä¸ºäº†å£°æ˜ä¸€ä¸ªç±»è¦å®ç°æ¥å£ï¼Œåœ¨ç±»çš„å£°æ˜ä¸­è¦åŒ…æ‹¬ä¸€æ¡implementsè¯­å¥ã€‚ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œå› æ­¤å¯ä»¥åœ¨implementsåé¢å¯åˆ—å‡ºç±»è¦å®ç°çš„æ¥å£ç³»åˆ—ï¼Œè¿™äº›æ¥å£ä»¥é€—å·åˆ†éš”ã€‚

#### ç¤ºä¾‹
```java
public class Employee implements ChineseEmployee {
    public double pay() {
        return 1000;
    }
}
```

### æ¥å£çš„ç»§æ‰¿

ä¸€ä¸ªæ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£ï¼Œå› æ­¤å¯ä»¥åœ¨extendsåé¢å¯åˆ—å‡ºæ¥å£ç³»åˆ—ï¼Œè¿™äº›æ¥å£ä»¥é€—å·åˆ†éš”ã€‚

```java
interface Employee {
    String getName();        //abstract
}

interface ChineseEmployee extends Employee {
    String nationality="Chinese";     //public static final
}

interface WomanEmployee extends Employee {
    String gender="Woman";     //public static final
    String getName();        //abstract
}

class WomanChineseEmployee implements ChineseEmployee, WomanEmployee {
    public String getName() {
        return nationality + gender + name;
    }
}
```

### æ¥å£çš„å®ç°

ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œå› æ­¤å¯ä»¥åœ¨implementsåé¢å¯åˆ—å‡ºç±»è¦å®ç°çš„æ¥å£ç³»åˆ—ï¼Œè¿™äº›æ¥å£ä»¥é€—å·åˆ†éš”ã€‚

